<div class="profile-container" [ngClass]="{_visible: _targetUser}" *ngIf="_targetUser">
  <jg-image [src]="_targetUser.photo_200 || _targetUser.photo_200_orig"></jg-image>
  <div class="profile-info">
    <div class="profile-header">
      <div class="profile-name">
        <h2>
          {{_targetUser.first_name}} {{_targetUser.last_name}}
        </h2>
      </div>
      <div class="focus-out">
        <span *ngIf="_targetUser?.friendsCount">
          {{_targetUser.friendsCount | numeral: '{"1": "друг", "2": "друга", "5": "друзей"}'}},
        </span>
        <span *ngIf="_graphData?.links">
          {{_graphData.links.length | numeral: '{"1": "связь", "2": "связи", "5": "связей"}'}}
        </span>
      </div>
      <div style="flex-basis: 100%; margin-bottom: 8px;">
        <jg-social-icon [service]="'vk'" [profile]="_targetUser.domain"></jg-social-icon>
        <jg-social-icon [service]="'instagram'" [profile]="_targetUser.instagram"></jg-social-icon>
        <jg-social-icon [service]="'twitter'" [profile]="_targetUser.twitter"></jg-social-icon>
      </div>
    </div>
    <div class="profile-params">
      <p *ngIf="_targetUser.home_town"><span>Родной город:</span> {{_targetUser.home_town}}</p>
      <p *ngIf="_targetUser.university_name"><span>Вуз:</span> {{_targetUser.university_name}}</p>
      <p *ngIf="_targetUser.faculty_name"><span>Факультет:</span> {{_targetUser.faculty_name}}</p>
    </div>
  </div>
</div>

<div class="graph-container" *ngIf="_targetUser">
  <jg-user-card (onUserSwitch)="search($event.domain)" #userCard></jg-user-card>
  <jg-graph #graph [data]="_graphData" [loading]="_loading" (onUserClick)="userCard.show($event)"></jg-graph>
</div>
